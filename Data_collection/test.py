import numpy as np
import cv2
import matplotlib.image as mpimg
import argparse

def parse_args():
    parser = argparse.ArgumentParser()
    parser.add_argument("--folder")

    args = parser.parse_args()
    return args

args = parse_args()






if args.folder == '20220909_114327':
    index = np.array([67, 69, 71, 73, 75, 79, 153, 155, 226, 228, 230, 237, 381, 406, 420, 444, 460, 468, 537, 554, 585, 602, 612])


if args.folder == '20220909_114410':
    index = np.array([47, 49, 51, 53, 55, 295, 310, 326, 344, 347, 349, 351, 403, 484, 554])

if args.folder == '20220909_114448':
    index = np.array([58, 62, 67, 79, 86, 107, 216, 218, 256, 276, 282, 293, 294, 340, 372, 423, 448, 451, 455, 491, 524, 533])

if args.folder == '20220909_114534':
    index = np.array([1, 48, 59, 73, 74, 76, 78, 80, 81, 84, 86, 96, 98, 99, 101, 103, 104, 106, 108, 116, 121, 176, 222, 226, 234,
238, 242, 270, 272, 313, 495, 515, 516, 607, 615, 617, 700, 717, 721, 723, 727, 738])


if args.folder == '20220909_114622':
    index = np.array([104, 271, 273, 275, 277, 290, 301, 303, 387, 389, 399, 401, 402, 405, 409, 411, 426, 432, 447, 460, 466])


if args.folder == '20220909_114708':
    index = np.array(
        [46, 70, 88, 89, 147, 154, 168, 260, 308, 312])




if args.folder == '20220909_114750':
    index = np.array([2, 28, 36, 37, 38, 39, 40, 41, 43, 44, 46, 49, 57, 62, 63, 64, 66, 68, 72, 77, 79, 85, 91, 93, 124, 126, 128,
129, 168, 181, 185, 195, 217, 221, 267, 283, 336, 349, 359, 388, 390, 396, 402, 407, 411, 431, 439, 441, 445,
461, 463, 467, 471, 560, 562, 565, 628, 633, 635, 664])

if args.folder == '20220909_114830':
    index = np.array([52, 67, 75, 79, 83, 85, 91, 93, 94, 95, 96, 98, 100, 102, 150, 154, 156, 165, 168, 174, 176, 180, 183, 185, 217,
241, 245, 262, 274, 278, 280, 281, 338, 340, 351, 356, 374, 381, 383, 388])





# **************depth******
# if args.folder == '20220922_155423':
#     index = np.array([92,  94,  96,  98, 100, 102, 104, 106, 111, 113, 115, 117, 119, 123, 125, 127, 131,
#                       133, 135, 140, 142, 144, 146, 152, 154, 158,  164, 166, 170,  183, 197, 199,
#                       200, 204, 212, 218, 237, 241, 243, 247, 253, 255,  261, 265, 270, 272, 280, 294,
#                       296, 300, 302, 304, 315, 325, 327, 329, 331, 333, 337, 338, 340, 348,  358, 360,
#                       362, 364, 381, 387, 389, 402, 404, 408, 410, 412, 414, 416, 420, 424, 426, 430,
#                       433, 437, 445, 453, 455, 459, 461, 467, 468, 472, 476, 494, 496, 526, 534, 546,
#                       554, 559, 561, 563, 565, 567, 569, 571, 573, 575, 590, 592, 594, 598, 604, 606,
#                       608, 612, 614, 621, 623, 625, 629, 631, 635, 646, 648, 652, 693, 697, 699, 701,
#                       703, 745, 761, 765, 767, 769, 772, 774, 793, 795, 797, 801, 803, 805, 826, 828,
#                       830, 832, 839])

# **************color******
if args.folder == '20220922_155423':
    index = np.array([360, 362, 364, 381, 387, 389, 401, 402, 404, 408, 410, 412, 414, 416,
                      418, 420, 422, 445, 453, 455, 459, 461, 467, 472, 476, 494, 496, 526, 528,
                      530, 534, 538,  559, 561, 563, 565, 567, 569, 571, 573, 575,  590, 592, 594,
                      598, 604, 606, 608, 612, 614, 621, 623, 625, 629, 631, 635, 646, 648, 652,
                      693, 697, 699, 701, 703, 765, 767, 769, 772,774, 793, 795, 797, 801, 803, 805])

# **************depth******
# if args.folder == '20220922_155808':
#     index = np.array([103, 105, 120, 130, 134, 136, 140, 149,
#  169, 176, 178, 180, 182, 184, 192, 194, 207, 213, 215, 222, 230 ,236, 238, 240,
#  249, 253 ,255, 257 ,259 ,261 ,263, 265 ,267, 286, 288, 290 ,300, 302, 303 ,
#  307, 309, 311, 313, 315 ,319, 321, 330 ,365 ,367, 377 ,424, 435,
#  442, 455 ,485 ,491 ,503, 505, 513,
#  532, 538, 540, 545, 547, 549, 551, 553, 559, 565, 567, 569, 571 ,573, 577,
#  588, 594, 596, 598 ,600, 602, 604, 606, 608, 610, 616, 619, 621, 623, 625,
#  627, 633, 635, 645, 646, 650, 652, 654 ,656, 662, 668, 670, 678,
#  693 ,695, 697, 699 ,701, 703 ,705 ,712, 714 ,720, 726, 732, 734 ,736 ,737 ,739, 749 ,768,
#  783 ,787 ,794 ,800 ,810 ,812 ,816, 818 ,825 ,848 ,851])


# **************color******
if args.folder == '20220922_155808':
    index = np.array([149, 169, 176, 178,  180, 182, 184, 192, 194, 207, 213, 215, 222, 230, 232, 236, 267, 286, 288, 290, 298, 300, 302, 303, 305,
 307, 309, 311, 313, 315, 319, 321, 323, 330, 365, 367, 377, 381, 385, 485, 491, 503, 505, 513, 524, 526, 532, 538, 540, 545, 547,
 549, 551, 553, 559, 565, 567, 569, 571, 588, 594, 596, 598, 600, 602, 604, 606, 608, 610, 616, 619, 621 , 623, 625, 627, 633, 635, 645,
  646, 650, 652, 654, 656, 662, 668, 670, 678, 685, 687, 689, 691, 693, 695, 697, 699, 701, 703, 705, 712, 714, 720, 726, 732, 734, 736,
737, 739, 749, 768, 773, 779, 781, 783, 787, 794])



if args.folder == '20220922_155917':
    index = np.array([93, 101,
 105 ,109, 111, 113, 115, 117 ,119 ,130, 132, 160, 162 ,166 ,170, 172, 178, 180, 182,
 184 ,204 ,232 ,234, 236 ,238 ,240, 242 ,244, 246 ,252 ,254 ,256, 258 ,260 ,262,
 264, 266, 268, 274 ,276 ,286 ,288, 292 ,298, 300, 336, 342 ,344,
 346, 348, 350, 356, 358, 360, 366, 368, 370 ,384 ,392, 401, 403 ,409 ,423, 431,
 445 , 455 ,457 , 471, 477, 479 ,481, 491, 495 ,503 ,505 ,507,529, 531 ,535 ,551, 579 ,581, 583,
 595, 605, 613, 615, 631, 633, 635, 643 ,653, 693, 695 ,700 ,706 ,718, 728 ,730 ,732 ,734 ,736,738,
 740 ,742, 744 ,746, 748 ,750, 764 ,770, 776, 786, 794 ,808 ,814 ,818,
 826 ,838, 840, 846 ,848 ,858, 887, 897 ,911 ,913, 931])



if args.folder == '20220922_161724':
    index = np.array([101, 103, 105, 106, 108, 110, 114, 116, 118, 120, 122, 146, 148, 150, 152,
                      156, 158, 160, 162, 163,190, 193, 195, 203, 207 ,209, 213, 215, 217, 221,
                      224, 228, 237 ,239,241, 243, 253, 259, 263, 264, 269, 273, 279,
                      286, 288, 295, 299, 301, 303, 305, 306, 308, 310 ,312, 314, 316 ,318, 320,
                      322, 324, 325, 327, 329, 331, 333, 335, 337, 338, 340 ,342 ,344, 346, 349,
                      364, 366, 368, 370, 372, 374, 376, 378 ,380, 382, 384 ,386, 388, 392, 394,
                      396, 402, 404, 410, 413, 415, 417 ,418, 420, 422, 424 ,426, 428 ,438, 440,
                      441, 444, 446, 450, 452, 454, 456, 458, 460, 469 ,477, 482, 484, 501, 503,
                      509, 518, 520, 522, 525, 527, 529, 531, 533, 535, 537, 539, 543, 546, 548,
                      550, 554, 572, 590, 592, 596, 598, 602, 604, 606, 608, 610, 614, 645 ,651,
                      653, 655, 657, 659, 683, 695, 697, 699, 701, 705, 710, 718, 723, 729,738,
                      752, 755, 780, 782, 784 ,786, 789, 791, 794, 796, 820, 822, 834, 842, 846,
                      848, 851, 855, 857, 863, 871 ,873 ,875, 891, 893, 895 ,903, 906, 923 ,927 ,
                      930, 932, 943, 945, 949 ,951, 955,959, 961, 971, 979, 981])












for n_image in index:
    if (n_image < 10):
        num_index_str = '00000' + str(n_image)

    elif (n_image >= 100):
        num_index_str = '000' + str(n_image)
    else:
        num_index_str = '0000' + str(n_image)

    # image = cv2.imread('./data/20220922/' + args.folder + '/' + 'hololens2/depth_' + num_index_str + '.png', -cv2.IMREAD_ANYDEPTH)
    #
    #
    #
    # cv2.imwrite('0922_data/images_0922/' + args.folder + num_index_str + '.png', image)
    #
    # with open('result_1001_' + args.folder + '/labels/1001/' + args.folder + num_index_str + '.txt') as file:
    #     content = file.read()
    #
    # with open('0922_data/labels_0922/' + args.folder + num_index_str + '.txt', 'w') as file:
    #     file.write(content)

    image = cv2.imread('./result_1001_' + args.folder + '/test_holo_color/holo_color_' + str(n_image) + '.png', -1)
    cv2.imwrite('0922_data/images_0922_color/' + args.folder + num_index_str + '.png', image)
